<!doctype html>
<html lang="pl">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Kalkulator obligacji skarbowych</title>
    <style>
        td,
        th {
            text-align: center;
        }

        z #pierwsza_tabela td,
        #pierwsza_tabela th {
            text-align: left;
        }

        div.fixed {
            position: fixed;
            bottom: 0;
            margin: auto;
            width: 100%;
        }

        /* @media all and (max-width: 500px) {
            #stopka {
                overflow: hidden;
                background-color: blue;
                text-align: right;
            }
        } */
    </style>
</head>

<body style="background-color: grey;">
    <div class="container">
        <h1 class="mt-2">Kalkulator obligacji skarbowych</h1>
        <br>


        <div class="row">
            <button onclick="ots()" type="button" class="btn btn-secondary">OTS</button>
            <button onclick="ror()" type="button" class="btn btn-secondary">ROR</button>
            <button onclick="dor()" type="button" class="btn btn-secondary">DOR</button>
            <button onclick="tos()" type="button" class="btn btn-secondary">TOS</button>
            <button onclick="coi()" type="button" class="btn btn-secondary">COI</button>
            <button onclick="edo()" type="button" class="btn btn-secondary">EDO</button>
        </div>
        <br>
        <div class="row">
            <button id="wybor" type="button" class="btn btn-secondary">EDO</button>
        </div>
        <br>
        <div class="row">
            <p id="informacja">
                OPROCENTOWANIE
                <br>
                7,25 % w pierwszym rocznym okresie odsetkowym, w kolejnych rocznych okresach odsetkowych: marża 1,25% +
                inflacja, z roczną kapitalizacją odsetek.
            </p>
            <table id="pierwsza_tabela" class="table table-dark">
                <tr>
                    <th id="nazwa" style="text-align: center;" colspan="2">Obligacje 10-letnie EDO</th>
                </tr>
                <tr>
                    <th class="col-8">Nominalna wartość obligacji</th>
                    <td class="col-4">100,00 zł</td>
                </tr>
                <tr>
                    <th>Liczba cykli</th>
                    <td id="l_cykli">10</td>
                </tr>
                <tr>
                    <th>Długość jednego cyklu</th>
                    <td id="dl_cykli">Rok</td>
                </tr>
                <tr>
                    <th>Oprocentowanie w pierwszym rocznym okresie odsetkowym [%]</th>
                    <td id="oprocentowanie">7.25</td>
                </tr>
                <tr>
                    <th>Kapitalizacja odsetek</th>
                    <td id="kapitalizacja">Tak</td>
                </tr>
                <tr>
                    <th>Wypłata odsetek</th>
                    <td id="wyplata_odsetek">Przy wykupie</td>
                </tr>
            </table>
        </div>


        <br>
        <div class="row">
            <h2 class="col-12">Kalkulator</h2>
        </div>
        <div class="row">
            <label for="liczba_obligacji" class="col-12 col-sm-3">Liczba zakupionych obligacji: </label>
            <input class="ml-3 mb-3" onchange="zainwestowana_kwota()" type="number" name="liczba_obligacji" id="liczba_obligacji"
                value="1">
        </div>
        <div class="row">
            <label for="kwota" class="col-12 col-sm-3">Zainwestowana kwota [zł]: </label>
            <div class="ml-3 mb-4 text-white" name="kwota" id="kwota">100</div>
        </div>

        <div class="row">
            <label for="inflacja" class="col-12 col-sm-3" id="inflacja_stopa">Zakładana inflacja [%]:
            </label>
            <input class="ml-3 mb-3" name="inflacja" id="inflacja" type="number" value="2.5">
        </div>
        <br>
        <hr>
        <input type="submit" id="tabela" value="Pokaż tabelę wyników">
        <br>
        <br>

        <script>
            kwota = document.getElementById("kwota");
            liczba_obligacji = document.getElementById("liczba_obligacji");

            function zainwestowana_kwota() {
                if (liczba_obligacji.value > 0) {
                    if (Number.isInteger(liczba_obligacji.value)) {
                        kwota.innerHTML = liczba_obligacji.value;
                    }
                    else {
                        liczba_obligacji.value = Math.floor(liczba_obligacji.value);
                        kwota.innerHTML = liczba_obligacji.value * 100;
                    }
                } else {
                    liczba_obligacji.value = 0;
                    kwota.innerHTML = 0;
                }
            }

            inflacja_stopa = document.getElementById("inflacja_stopa");

            wybor = document.getElementById("wybor");
            informacja = document.getElementById("informacja");
            l_cykli = document.getElementById("l_cykli");
            dl_cykli = document.getElementById("dl_cykli");
            oprocentowanie = document.getElementById("oprocentowanie");
            kapitalizacja = document.getElementById("kapitalizacja");
            wyplata_odsetek = document.getElementById("wyplata_odsetek");
            nazwa = document.getElementById("nazwa");

            function ots() {
                wybor.innerHTML = "OTS";
                nazwa.innerHTML = "Obligacje 3-miesięczne OTS";
                informacja.innerHTML = "OPROCENTOWANIE <br> 3.0% w skali roku, stałe przez cały 3-miesięczny okres oszczędzania.";
                l_cykli.innerHTML = "3";
                dl_cykli.innerHTML = "miesiąc";
                oprocentowanie.innerHTML = "3";
                kapitalizacja.innerHTML = "nie";
                wyplata_odsetek.innerHTML = "po każdym pełym cyklu";
                inflacja_stopa.innerHTML = "Zakładana inflacja [%]: ";
            }
            function ror() {
                wybor.innerHTML = "ROR";
                nazwa.innerHTML = "Obligacje roczne ROR";
                informacja.innerHTML = "OPROCENTOWANIE <br> 6,75 % w skali roku, w pierwszym miesięcznym okresie odsetkowym. W kolejnych miesięcznych okresach odsetkowych: stopa referencyjna NBP+0,00%.";
                l_cykli.innerHTML = "12";
                dl_cykli.innerHTML = "miesiąc";
                oprocentowanie.innerHTML = "6.75";
                kapitalizacja.innerHTML = "nie";
                wyplata_odsetek.innerHTML = "po każdym pełym cyklu";
                inflacja_stopa.innerHTML = "Zakładana Stopa Referencyjna NBP [%]: ";
            }
            function dor() {
                wybor.innerHTML = "DOR";
                nazwa.innerHTML = "Obligacje 2-letnie DOR";
                informacja.innerHTML = "OPROCENTOWANIE <br> 6,85 % w skali roku, w pierwszym miesięcznym okresie odsetkowym. W kolejnych miesięcznych okresach odsetkowych: stopa referencyjna NBP+0,25%.";
                l_cykli.innerHTML = "24";
                dl_cykli.innerHTML = "miesiąc";
                oprocentowanie.innerHTML = "6.85";
                kapitalizacja.innerHTML = "nie";
                wyplata_odsetek.innerHTML = "po każdym pełym cyklu";
                inflacja_stopa.innerHTML = "Zakładana Stopa Referencyjna NBP [%]: ";
            }
            function tos() {
                wybor.innerHTML = "TOS";
                nazwa.innerHTML = "Obligacje 3-letnie TOS";
                informacja.innerHTML = "OPROCENTOWANIE <br> 6,85 % stałe przez cały 3-letni okres oszczędzania";
                l_cykli.innerHTML = "3";
                dl_cykli.innerHTML = "rok";
                oprocentowanie.innerHTML = "6.85";
                kapitalizacja.innerHTML = "tak";
                wyplata_odsetek.innerHTML = "przy wykupie";
                inflacja_stopa.innerHTML = "Zakładana inflacja [%]: ";
            }
            function coi() {
                wybor.innerHTML = "COI";
                nazwa.innerHTML = "Obligacje 4-letnie COI";
                informacja.innerHTML = "OPROCENTOWANIE <br> 7 % w pierwszym rocznym okresie odsetkowym, w kolejnych rocznych okresach odsetkowych: marża 1,00% + inflacja, z wypłatą odsetek co roku.";
                l_cykli.innerHTML = "4";
                dl_cykli.innerHTML = "rok";
                oprocentowanie.innerHTML = "7";
                kapitalizacja.innerHTML = "nie";
                wyplata_odsetek.innerHTML = "po każdym pełym cyklu";
                inflacja_stopa.innerHTML = "Zakładana inflacja [%]: ";
            }
            function edo() {
                wybor.innerHTML = "EDO";
                nazwa.innerHTML = "Obligacje 10-letnie EDO";
                informacja.innerHTML = "OPROCENTOWANIE <br> 7,25 % w pierwszym rocznym okresie odsetkowym, w kolejnych rocznych okresach odsetkowych: marża 1,25% + inflacja, z roczną kapitalizacją odsetek.";
                l_cykli.innerHTML = "10";
                dl_cykli.innerHTML = "rok";
                oprocentowanie.innerHTML = "7.25";
                kapitalizacja.innerHTML = "tak";
                wyplata_odsetek.innerHTML = "przy wykupie";
                inflacja_stopa.innerHTML = "Zakładana inflacja [%]: ";
            }


        </script>


        <table class="table table-responsive table-dark mb-5" id="tab">
            <thead>
                <tr>
                    <th class="col-1" id="cykl">Rok</th>
                    <th class="col-2">Kwota do wykupu [zł]</th>
                    <th class="col-1">Oprocentowanie [%]</th>
                    <th class="col-1">Odsetki [zł]</th>
                    <th class="col-1">Odsetki skumulowane [zł]</th>
                    <th class="col-2">Opłata za wykup [zł]</th>
                    <th class="col-1">Podatek belki [zł]</th>
                    <th class="col-1">Zysk [zł]</th>
                    <th class="col-2" id="inflacjaLUBstopaNBP">Inflacja na cykl [%]</th>
                </tr>
            </thead>
            <tbody id="tbody">

            </tbody>

        </table>

    </div>
    <script>
        obligacja = document.getElementById("wybor");
        inflacja = document.getElementById("inflacja");
        const tab = document.getElementById("tab");
        oprocentowanie = document.getElementById("oprocentowanie");

        document.getElementById("tabela").addEventListener("click", function () {
            tabela(obligacja);
        });


        function tabela(obligacja) {
            if (obligacja.innerHTML == "OTS") {
                document.getElementById("cykl").innerHTML = "Miesiąc";
                document.getElementById("inflacjaLUBstopaNBP").innerHTML = "Inflacja na cykl [%]";

                tab.removeChild(document.getElementById("tbody"));
                const tbody = document.createElement("tbody");
                tbody.id = "tbody";
                tab.append(tbody);
                var tr = new Array(3);
                var td = new Array(3);
                var tekst = new Array(3);

                for (let i = 0; i <= 3; i++) {
                    console.log("i = " + i);

                    td[i] = new Array(9);
                    tekst[i] = new Array(9);
                    tr[i] = document.createElement("tr");

                    if (i == 0) {
                        td[i][0] = document.createElement("td");
                        td[i][1] = document.createElement("td");
                        tekst[i][0] = document.createTextNode(0);
                        tekst[i][1] = document.createTextNode(document.getElementById("kwota").innerHTML);
                        td[i][0].appendChild(tekst[i][0]);
                        td[i][1].appendChild(tekst[i][1]);
                        tr[i].appendChild(td[i][0]);
                        tr[i].appendChild(td[i][1]);

                    } else if (i == 1) {
                        for (let j = 0; j < 9; j++) {
                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {

                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i - 1][j].textContent) * 100) / 100);
                                // Math.floor(... *100)/100 żeby były 2 miejsca po przecinku
                            } else if (j == 2) {
                                tekst[i][j] = document.createTextNode(oprocentowanie.textContent / 12);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent * tekst[i][j - 1].textContent / 100) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 5) {
                                tekst[i][j] = document.createTextNode(0);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }
                    } else {
                        for (let j = 0; j < 9; j++) {

                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i - 1][j].textContent) * 100) / 100);
                                // Math.floor(... *100)/100 żeby były 2 miejsca po przecinku
                            }
                            else if (j == 2) {
                                tekst[i][j] = document.createTextNode(oprocentowanie.textContent / 12);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent * tekst[i][j - 1].textContent / 100) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((parseFloat(tekst[i][j - 1].textContent) + parseFloat(tekst[i - 1][j].textContent)) * 100) / 100);
                            }
                            else if (j == 5) {
                                if (i == 10) tekst[i][j] = document.createTextNode(0);
                                else tekst[i][j] = document.createTextNode(0);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }
                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }

                    }
                    tbody.appendChild(tr[i]);

                }
            }
            else if (obligacja.innerHTML == "ROR") {
                document.getElementById("cykl").innerHTML = "Miesiąc";
                document.getElementById("inflacjaLUBstopaNBP").innerHTML = "Stopa Referencyjna na cykl [%]";

                tab.removeChild(document.getElementById("tbody"));
                const tbody = document.createElement("tbody");
                tbody.id = "tbody";
                tab.append(tbody);
                var tr = new Array(12);
                var td = new Array(12);
                var tekst = new Array(12);

                for (let i = 0; i <= 12; i++) {
                    console.log("i = " + i);

                    td[i] = new Array(9);
                    tekst[i] = new Array(9);
                    tr[i] = document.createElement("tr");

                    if (i == 0) {
                        td[i][0] = document.createElement("td");
                        td[i][1] = document.createElement("td");
                        tekst[i][0] = document.createTextNode(0);
                        tekst[i][1] = document.createTextNode(document.getElementById("kwota").innerHTML);
                        td[i][0].appendChild(tekst[i][0]);
                        td[i][1].appendChild(tekst[i][1]);
                        tr[i].appendChild(td[i][0]);
                        tr[i].appendChild(td[i][1]);

                    } else if (i == 1) {
                        for (let j = 0; j < 9; j++) {
                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(tekst[i - 1][j].textContent);
                            } else if (j == 2) {
                                tekst[i][j] = document.createTextNode(Math.floor(oprocentowanie.textContent / 12 * 100) / 100);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent * tekst[i][j - 1].textContent / 100) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 5) {
                                tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 0.5);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }
                    } else {
                        for (let j = 0; j < 9; j++) {

                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(tekst[i - 1][j].textContent);
                                // Math.floor(... *100)/100 żeby były 2 miejsca po przecinku
                            }
                            else if (j == 2) {
                                tekst[i][j] = document.createTextNode(Math.floor(parseFloat(inflacja.value) / 12 * 100) / 100);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent * tekst[i][j - 1].textContent / 100) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((parseFloat(tekst[i][j - 1].textContent) + parseFloat(tekst[i - 1][j].textContent)) * 100) / 100);
                            }
                            else if (j == 5) {
                                if (i == 12) tekst[i][j] = document.createTextNode(0);
                                else tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 0.5);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }

                    }
                    tbody.appendChild(tr[i]);

                }
            }
            else if (obligacja.innerHTML == "DOR") {
                document.getElementById("cykl").innerHTML = "Miesiąc";
                document.getElementById("inflacjaLUBstopaNBP").innerHTML = "Stopa Referencyjna na cykl [%]";

                tab.removeChild(document.getElementById("tbody"));
                const tbody = document.createElement("tbody");
                tbody.id = "tbody";
                tab.append(tbody);
                var tr = new Array(24);
                var td = new Array(24);
                var tekst = new Array(24);

                for (let i = 0; i <= 24; i++) {
                    console.log("i = " + i);

                    td[i] = new Array(9);
                    tekst[i] = new Array(9);
                    tr[i] = document.createElement("tr");

                    if (i == 0) {
                        td[i][0] = document.createElement("td");
                        td[i][1] = document.createElement("td");
                        tekst[i][0] = document.createTextNode(0);
                        tekst[i][1] = document.createTextNode(document.getElementById("kwota").innerHTML);
                        td[i][0].appendChild(tekst[i][0]);
                        td[i][1].appendChild(tekst[i][1]);
                        tr[i].appendChild(td[i][0]);
                        tr[i].appendChild(td[i][1]);

                    } else if (i == 1) {
                        for (let j = 0; j < 9; j++) {
                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(tekst[i - 1][j].textContent);
                            } else if (j == 2) {
                                tekst[i][j] = document.createTextNode(Math.floor((oprocentowanie.textContent / 12) * 100) / 100);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent * tekst[i][j - 1].textContent / 100) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 5) {
                                tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 0.7);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }
                    } else {
                        for (let j = 0; j < 9; j++) {

                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(tekst[i - 1][j].textContent);
                                // Math.floor(... *100)/100 żeby były 2 miejsca po przecinku
                            }
                            else if (j == 2) {
                                tekst[i][j] = document.createTextNode(Math.floor((parseFloat(inflacja.value) + 0.25) / 12 * 100) / 100);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent * tekst[i][j - 1].textContent / 100) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((parseFloat(tekst[i][j - 1].textContent) + parseFloat(tekst[i - 1][j].textContent)) * 100) / 100);
                            }
                            else if (j == 5) {
                                if (i == 24) tekst[i][j] = document.createTextNode(0);
                                else tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 0.7);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }

                    }
                    tbody.appendChild(tr[i]);

                }
            }
            else if (obligacja.innerHTML == "TOS") {
                document.getElementById("cykl").innerHTML = "Rok";
                document.getElementById("inflacjaLUBstopaNBP").innerHTML = "Inflacja na cykl [%]";

                tab.removeChild(document.getElementById("tbody"));
                const tbody = document.createElement("tbody");
                tbody.id = "tbody";
                tab.append(tbody);
                var tr = new Array(3);
                var td = new Array(3);
                var tekst = new Array(3);

                for (let i = 0; i <= 3; i++) {
                    console.log("i = " + i);

                    td[i] = new Array(9);
                    tekst[i] = new Array(9);
                    tr[i] = document.createElement("tr");

                    if (i == 0) {
                        td[i][0] = document.createElement("td");
                        td[i][1] = document.createElement("td");
                        tekst[i][0] = document.createTextNode(0);
                        tekst[i][1] = document.createTextNode(document.getElementById("kwota").innerHTML);
                        td[i][0].appendChild(tekst[i][0]);
                        td[i][1].appendChild(tekst[i][1]);
                        tr[i].appendChild(td[i][0]);
                        tr[i].appendChild(td[i][1]);

                    } else if (i == 1) {
                        for (let j = 0; j < 9; j++) {
                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i - 1][j].textContent) * (1 + oprocentowanie.textContent / 100) * 100) / 100);
                                // Math.floor(... *100)/100 żeby były 2 miejsca po przecinku
                            } else if (j == 2) {
                                tekst[i][j] = document.createTextNode(oprocentowanie.textContent);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent - tekst[i - 1][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[0][j - 3].textContent) * 100) / 100);
                            }
                            else if (j == 5) {
                                tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 0.7);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }
                    } else {
                        for (let j = 0; j < 9; j++) {

                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i - 1][j].textContent) * (1 + oprocentowanie.textContent / 100) * 100) / 100);
                                // Math.floor(... *100)/100 żeby były 2 miejsca po przecinku
                            }
                            else if (j == 2) {
                                tekst[i][j] = document.createTextNode(oprocentowanie.textContent);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent - tekst[i - 1][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[0][j - 3].textContent) * 100) / 100);
                            }
                            else if (j == 5) {
                                if (i == 3) tekst[i][j] = document.createTextNode(0);
                                else tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 0.7);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }

                    }
                    tbody.appendChild(tr[i]);

                }
            }
            else if (obligacja.innerHTML == "COI") {
                document.getElementById("cykl").innerHTML = "Rok";
                document.getElementById("inflacjaLUBstopaNBP").innerHTML = "Inflacja na cykl [%]";

                tab.removeChild(document.getElementById("tbody"));
                const tbody = document.createElement("tbody");
                tbody.id = "tbody";
                tab.append(tbody);
                var tr = new Array(4);
                var td = new Array(4);
                var tekst = new Array(4);

                for (let i = 0; i <= 4; i++) {
                    console.log("i = " + i);

                    td[i] = new Array(9);
                    tekst[i] = new Array(9);
                    tr[i] = document.createElement("tr");

                    if (i == 0) {
                        td[i][0] = document.createElement("td");
                        td[i][1] = document.createElement("td");
                        tekst[i][0] = document.createTextNode(0);
                        tekst[i][1] = document.createTextNode(document.getElementById("kwota").innerHTML);
                        td[i][0].appendChild(tekst[i][0]);
                        td[i][1].appendChild(tekst[i][1]);
                        tr[i].appendChild(td[i][0]);
                        tr[i].appendChild(td[i][1]);

                    } else if (i == 1) {
                        for (let j = 0; j < 9; j++) {
                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(tekst[i - 1][j].textContent);
                            } else if (j == 2) {
                                tekst[i][j] = document.createTextNode(oprocentowanie.textContent);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent * tekst[i][j - 1].textContent / 100) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 5) {
                                tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 0.7);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }
                    } else {
                        for (let j = 0; j < 9; j++) {

                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(tekst[i - 1][j].textContent);
                                // Math.floor(... *100)/100 żeby były 2 miejsca po przecinku
                            }
                            else if (j == 2) {
                                tekst[i][j] = document.createTextNode(parseFloat(inflacja.value) + 1.0);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent * tekst[i][j - 1].textContent / 100) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((parseFloat(tekst[i][j - 1].textContent) + parseFloat(tekst[i - 1][j].textContent)) * 100) / 100);
                            }
                            else if (j == 5) {
                                if (i == 4) tekst[i][j] = document.createTextNode(0);
                                else tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 0.7);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }

                    }
                    tbody.appendChild(tr[i]);

                }
            }
            else if (obligacja.innerHTML == "EDO") {
                document.getElementById("cykl").innerHTML = "Rok";
                document.getElementById("inflacjaLUBstopaNBP").innerHTML = "Inflacja na cykl [%]";

                tab.removeChild(document.getElementById("tbody"));
                const tbody = document.createElement("tbody");
                tbody.id = "tbody";
                tab.append(tbody);
                var tr = new Array(10);
                var td = new Array(10);
                var tekst = new Array(10);

                for (let i = 0; i <= 10; i++) {
                    console.log("i = " + i);

                    td[i] = new Array(9);
                    tekst[i] = new Array(9);
                    tr[i] = document.createElement("tr");

                    if (i == 0) {
                        td[i][0] = document.createElement("td");
                        td[i][1] = document.createElement("td");
                        tekst[i][0] = document.createTextNode(0);
                        tekst[i][1] = document.createTextNode(document.getElementById("kwota").innerHTML);
                        td[i][0].appendChild(tekst[i][0]);
                        td[i][1].appendChild(tekst[i][1]);
                        tr[i].appendChild(td[i][0]);
                        tr[i].appendChild(td[i][1]);

                    } else if (i == 1) {
                        for (let j = 0; j < 9; j++) {
                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {

                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i - 1][j].textContent) * (1 + oprocentowanie.textContent / 100) * 100) / 100);
                                // Math.floor(... *100)/100 żeby były 2 miejsca po przecinku
                            } else if (j == 2) {
                                tekst[i][j] = document.createTextNode(oprocentowanie.textContent);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent - tekst[i - 1][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[0][j - 3].textContent) * 100) / 100);
                            }
                            else if (j == 5) {
                                tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 2);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }
                    } else {
                        for (let j = 0; j < 9; j++) {

                            td[i][j] = document.createElement("td");

                            if (j == 0) {
                                tekst[i][j] = document.createTextNode(i);
                            } else if (j == 1) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i - 1][j].textContent) * (1 + (parseFloat(inflacja.value) + 1.25) / 100) * 100) / 100);
                                // Math.floor(... *100)/100 żeby były 2 miejsca po przecinku
                            }
                            else if (j == 2) {
                                tekst[i][j] = document.createTextNode(parseFloat(inflacja.value) + 1.25);
                            }
                            else if (j == 3) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 2].textContent - tekst[i - 1][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 4) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[0][j - 3].textContent) * 100) / 100);
                            }
                            else if (j == 5) {
                                if (i == 10) tekst[i][j] = document.createTextNode(0);
                                else tekst[i][j] = document.createTextNode(document.getElementById("liczba_obligacji").value * 2);
                            }
                            else if (j == 6) {
                                tekst[i][j] = document.createTextNode(Math.floor(0.19 * (tekst[i][j - 2].textContent - tekst[i][j - 1].textContent) * 100) / 100);
                            }
                            else if (j == 7) {
                                tekst[i][j] = document.createTextNode(Math.floor((tekst[i][j - 3].textContent - tekst[i][j - 1].textContent - tekst[i][j - 2].textContent) * 100) / 100);
                            }
                            else if (j == 8) {
                                tekst[i][j] = document.createTextNode(inflacja.value);
                            }

                            td[i][j].appendChild(tekst[i][j]);
                            tr[i].appendChild(td[i][j]);
                        }

                    }
                    tbody.appendChild(tr[i]);

                }
            }
        }
    </script>



    <div
        class="footer container-fluid text-white bg-dark row text-center mt-sm-1 pt-1 pb-1 fixed justify-content-center">
        PATRYK CHROBAK - 2022 © WSZELKIE PRAWA ZASTRZEŻONE
    </div>

    <!-- </div> -->
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>